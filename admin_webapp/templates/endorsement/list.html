{%- extends "base.html" -%}
{%- from "macros.html" import render_pagination with context -%}

{%- block content -%}
<h1>{{title}}</h1>

{%- if count > 0 -%}
<div>Found {{count}} endorsements. Page {{pagination.page}} of {{pagination.pages}}.</div>
{%- else -%}
<!-- <div>None found in past {{days_back}} days, <a href='{{url_for(request.endpoint, days_back=days_back*10)}}'>see {{days_back*10}} days back</a></div> -->
{% endif -%}

<table class="table">
  <tr>
    <th>Id</th><th>Endorser</th><th>Endorsee</th><th>Category</th><th>Issued When</th><th>Remote Hostname</th><th>Valid?</th><th>Type</th><th>Positive?</th>
  </tr>
  {%for endorsement in endorsements%}
  <tr>
    <td><a href=''>{{endorsement.endorsement_id}}</a></td>
    <td><a href=''>
        {{endorsement.endorser.first_name}} {{endorsement.endorser.last_name}}</a>
    </td>
    <td>{{endorsement.endorsee.first_name}} {{endorsement.endorsee.last_name}}</td>
    <td>{{endorsement}}</td>
    <td>{{endorsement.issued_when | unix_to_datetime}}</td>
    <td>{{endorsement.remote_host}}</td>
    <td>{{endorsement.flag_valid}}</td>
    <td>{{endorsement.type}}</td>



  </tr>
  {%endfor%}
</table>

{{ render_pagination(pagination, request.endpoint) }}
{%- endblock content -%}

<!-- endorsement list frontend changes pending -->